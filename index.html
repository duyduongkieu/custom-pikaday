<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>Document</title>
        <link rel="stylesheet" href="./css/pikaday.css">
        <link rel="stylesheet" href="./css/site.css">
    </head>
    <body>
        <input class="datepicker" type="text" id="datetime" placeholder="time">
        <!-- ............................................. -->
        <script
            src="https://code.jquery.com/jquery-3.3.1.js"></script>
        <script src="./moment.js"></script>
        <script src="./pikaday.js"></script>

        <script>
    var picker = new Pikaday({
        field : document.getElementById("datetime"),
        format: 'DD/MM/YYYY',
        i18n           : {
        previousMonth : '先月',
        nextMonth     : '来月',
        months        : ['１月','２月','３月','４月','５月','６月','７月','８月','９月','１０月','１１月','１２月'],
        weekdays      : ['日曜日', '月曜日','火曜日',　'水曜日', '木曜日','金曜日','土曜日'],
        weekdaysShort : ['日', '月','火',　'水', '木','金','土']
    }
    });

          $(document).ready(function(event){
            var Ip = $('.datepicker');
            //tab vs blur
            Ip.on('keypress',function(e){
               if((Ip.val().length + 1) == 8 || (Ip.val().length + 1) == 7) {
                    Ip.on('blur',function() {
                    var valueIp = Ip.val();
                    var date = new Date();
                    var str = valueIp.substring(4,8);
                    var numb = parseInt(str);
                    if(numb < 1930){
                        Ip.val('');
                    }
                })
               }
               // enter
                if(e.which == 13){
                     if( Ip.val().length == 7){
					    Ip.val('');
                     } else if(Ip.val().length == 8){
                         console.log(Ip.val().length);
                         var valueIp = Ip.val();
                         var date = new Date();
                         var str = valueIp.substring(4,8);
                         var numb = parseInt(str);
                         if(numb < 1930){
                            // Ip.val(date.getDate());
                            Ip.val(''); 
                         }
                     }
                }
            })    
         })
    </script>
    </body>
</html>